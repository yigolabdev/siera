#!/usr/bin/env node

/**
 * μ‹μ• λΌν΄λ½ νμΉ™ λ° μ΄κΈ° μ½ν…μΈ  μ—…λ΅λ“ μ¤ν¬λ¦½νΈ
 */

const admin = require('firebase-admin');
const path = require('path');

// Service Account Key κ²½λ΅
const serviceAccountPath = path.join(__dirname, 'serviceAccountKey.json');

// Firebase Admin μ΄κΈ°ν™”
const serviceAccount = require(serviceAccountPath);
admin.initializeApp({
  credential: admin.credential.cert(serviceAccount)
});

const db = admin.firestore();

// ========================================
// μ‹μ• λΌν΄λ½ νμΉ™
// ========================================

const clubRules = {
  id: 'current-rules',
  version: 'μ 1μ°¨ κ°μ •',
  effectiveDate: '2026-01-01',
  lastModified: new Date(),
  content: `
μ 1μ¥ μ΄μΉ™

μ 1μ΅° (λ…μΉ­)
λ³Ένλ” "μ‹μ• λΌν΄λ½(θ©©ζ„›ηΎ…)"μ΄λΌ μΉ­ν•λ‹¤.

μ 2μ΅° (λ©μ )
λ³Ένλ” λ‹¤μκ³Ό κ°™μ€ λ©μ μ„ λ‹¬μ„±ν•κΈ° μ„ν•΄ μ„¤λ¦½λμ—λ‹¤.
1. νμ› μƒνΈ κ°„μ μΉλ© λ„λ¨
2. κ±΄μ „ν• λ“±μ‚° λ¬Έν™” μ •μ°© λ° λ°μ „
3. μμ—° λ³΄νΈ λ° ν™κ²½ λ³΄μ „ μμ‹ κ³ μ·¨
4. νμ›μ μ‹¬μ‹  κ±΄κ°• μ¦μ§„

μ 3μ΅° (μ†μ¬μ§€)
λ³Ένμ μ‚¬λ¬΄μ†λ” μ„μΈνΉλ³„μ‹μ— λ‘”λ‹¤.

μ 4μ΅° (μ‚¬μ—…)
λ³Ένλ” μ 2μ΅°μ λ©μ μ„ λ‹¬μ„±ν•κΈ° μ„ν•μ—¬ λ‹¤μμ μ‚¬μ—…μ„ ν–‰ν•λ‹¤.
1. μ •κΈ° μ‚°ν–‰ λ° νΉλ³„ μ‚°ν–‰ κ°μµ
2. μ‚°μ•… κ΄€λ ¨ κµμ΅ λ° μ•μ „ κµμ΅
3. νμ› μƒνΈ κ°„μ μΉλ© λ„λ¨λ¥Ό μ„ν• κ°μΆ… ν–‰μ‚¬
4. μμ—° λ³΄νΈ λ° ν™κ²½ λ³΄μ „ ν™λ™
5. κΈ°νƒ€ λ³Ένμ λ©μ  λ‹¬μ„±μ— ν•„μ”ν• μ‚¬μ—…


μ 2μ¥ νμ›

μ 5μ΅° (νμ›μ μκ²©)
λ³Ένμ νμ›μ€ λ‹¤μ κ° νΈμ μ”κ±΄μ„ κ°–μ¶ μλ΅ ν•λ‹¤.
1. λ³Ένμ λ©μ μ— κ³µκ°ν•λ” μ
2. λ§ 25μ„Έ μ΄μƒμ μ„±μΈ
3. κ±΄μ „ν• λ“±μ‚° λ¬Έν™”λ¥Ό μ¶”κµ¬ν•λ” μ
4. κΈ°μ΅΄ νμ›μ μ¶”μ²μ„ λ°›μ€ μ

μ 6μ΅° (μ…ν μ μ°¨)
νμ› κ°€μ…μ€ λ‹¤μμ μ μ°¨λ¥Ό κ±°μΉλ‹¤.
1. κΈ°μ΅΄ νμ›μ μ¶”μ²
2. κ²μ¤νΈ μ°Έκ°€ (μµλ€ 3ν)
3. κ°€μ… μ‹ μ²­μ„ μ μ¶
4. μ΄μμ„μ›ν μ‹¬μ
5. μΉμΈ κ²°μ •

μ 7μ΅° (νμ›μ κ¶λ¦¬)
νμ›μ€ λ‹¤μμ κ¶λ¦¬λ¥Ό κ°€μ§„λ‹¤.
1. μ •κΈ°μ΄ν λ° κ°μΆ… νμ μ°Έμ„κ¶
2. μ„ κ±°κ¶ λ° ν”Όμ„ κ±°κ¶
3. λ³Ένκ°€ μ£Όμµν•λ” κ°μΆ… μ‚°ν–‰ μ°Έκ°€κ¶
4. λ³Ένμ μ΄μμ— λ€ν• μκ²¬ μ μ‹κ¶

μ 8μ΅° (νμ›μ μλ¬΄)
νμ›μ€ λ‹¤μμ μλ¬΄λ¥Ό μ§„λ‹¤.
1. λ³Έν νμΉ™ μ¤€μ
2. νλΉ„ λ‚©λ¶€
3. λ³Ένμ λ…μ μ μ§€
4. μ΄ν λ° μ΄μ‚¬νμ κ²°μ • μ‚¬ν•­ μ¤€μ
5. μ‚°ν–‰ μ‹ μ•μ „ μμΉ™ μ¤€μ

μ 9μ΅° (νμ›μ νƒν‡΄ λ° μ λ…)
1. νμ›μ€ νƒν‡΄ μμ‚¬λ¥Ό μ„λ©΄μΌλ΅ μ μ¶ν•¨μΌλ΅μ¨ μ–Έμ λ“ μ§€ νƒν‡΄ν•  μ μλ‹¤.
2. λ‹¤μ κ° νΈμ— ν•΄λ‹Ήν•λ” κ²½μ° μ΄μμ„μ›νμ μκ²°λ΅ μ λ…ν•  μ μλ‹¤.
   κ°€. λ³Ένμ λ…μλ¥Ό ν›Όμ†ν• κ²½μ°
   λ‚. νμΉ™μ„ μ„λ°ν• κ²½μ°
   λ‹¤. νλΉ„λ¥Ό 1λ…„ μ΄μƒ λ―Έλ‚©ν• κ²½μ°
   λΌ. μ •λ‹Ήν• μ‚¬μ  μ—†μ΄ μ‚°ν–‰ λ° λ¨μ„μ— λ¬΄λ‹¨ λ¶μ°Έμ΄ μ¦μ€ κ²½μ°


μ 3μ¥ μ΅°μ§ λ° μ΄μ

μ 10μ΅° (μ΄μ μ΅°μ§)
λ³Ένλ” λ‹¤μμ μ΅°μ§μΌλ΅ μ΄μν•λ‹¤.
1. μ΄ν
2. μ΄μμ„μ›ν
3. νμ¥, λ¶€νμ¥, μ΄λ¬΄
4. κ° λ¶„κ³Όμ„μ›ν

μ 11μ΅° (μ΄ν)
1. μ΄νλ” λ³Ένμ μµκ³  μκ²° κΈ°κ΄€μ΄λ‹¤.
2. μ •κΈ°μ΄νλ” λ§¤λ…„ 1ν κ°μµν•λ‹¤.
3. μ„μ‹μ΄νλ” λ‹¤μμ κ²½μ°μ— κ°μµν•λ‹¤.
   κ°€. νμ¥μ΄ ν•„μ”ν•λ‹¤κ³  μΈμ •ν•  λ•
   λ‚. μ΄μμ„μ›νμ μκ²°μ΄ μμ„ λ•
   λ‹¤. μ¬μ  νμ› κ³Όλ°μμ μ”κµ¬κ°€ μμ„ λ•

μ 12μ΅° (μ΄νμ μκ²°μ‚¬ν•­)
μ΄νλ” λ‹¤μ μ‚¬ν•­μ„ μκ²°ν•λ‹¤.
1. νμΉ™μ μ μ • λ° κ°μ •
2. μ„μ›μ μ„ μ¶ λ° ν•΄μ„
3. μ‚¬μ—… κ³„ν λ° μμ‚° μΉμΈ
4. κ²°μ‚° μΉμΈ
5. κΈ°νƒ€ μ¤‘μ” μ‚¬ν•­

μ 13μ΅° (μ΄μμ„μ›ν)
1. μ΄μμ„μ›νλ” νμ¥, λ¶€νμ¥, μ΄λ¬΄ λ° κ° λ¶„κ³Όμ„μ›μ¥μΌλ΅ κµ¬μ„±ν•λ‹¤.
2. μ΄μμ„μ›νλ” νμ¥μ΄ μ†μ§‘ν•λ©°, μ¬μ  μ„μ› κ³Όλ°μμ μ¶μ„μΌλ΅ κ°μµν•λ‹¤.
3. μ΄μμ„μ›νλ” λ‹¤μ μ‚¬ν•­μ„ μ‹¬μ, μκ²°ν•λ‹¤.
   κ°€. νμ› κ°€μ… μΉμΈ
   λ‚. μ‚°ν–‰ κ³„ν μλ¦½
   λ‹¤. μμ‚° μ§‘ν–‰
   λΌ. μ΄ν λ¶€μ μ•κ±΄
   λ§. κΈ°νƒ€ νλ¬΄ μ΄μμ— κ΄€ν• μ‚¬ν•­

μ 14μ΅° (μ„μ›)
1. λ³Ένλ” λ‹¤μμ μ„μ›μ„ λ‘”λ‹¤.
   κ°€. νμ¥ 1λ…
   λ‚. λ¶€νμ¥ 2λ…
   λ‹¤. μ΄λ¬΄ 1λ…
   λΌ. κ°μ‚¬ 2λ…
2. μ„μ›μ μ„κΈ°λ” 2λ…„μΌλ΅ ν•λ, μ—°μ„ν•  μ μλ‹¤.
3. μ„μ›μ€ μ΄νμ—μ„ μ„ μ¶ν•λ‹¤.

μ 15μ΅° (νμ¥)
νμ¥μ€ λ³Ένλ¥Ό λ€ν‘ν•κ³  νλ¬΄λ¥Ό μ΄κ΄„ν•λ‹¤.
1. μ΄ν λ° μ΄μμ„μ›ν μ†μ§‘
2. λ³Έν λ€ν‘
3. κ°μΆ… νμ μ£Όμ¬
4. κΈ°νƒ€ μ¤‘μ” μ‚¬ν•­ κ²°μ •

μ 16μ΅° (λ¶€νμ¥)
λ¶€νμ¥μ€ νμ¥μ„ λ³΄μΆν•λ©°, νμ¥ μ κ³  μ‹ κ·Έ μ§λ¬΄λ¥Ό λ€ν–‰ν•λ‹¤.

μ 17μ΅° (μ΄λ¬΄)
μ΄λ¬΄λ” λ‹¤μμ μ—…λ¬΄λ¥Ό λ‹΄λ‹Ήν•λ‹¤.
1. νμ› λ…λ¶€ κ΄€λ¦¬
2. νκ³„ μ—…λ¬΄
3. νμλ΅ μ‘μ„±
4. κ°μΆ… λ¬Έμ„ κ΄€λ¦¬
5. μ‚°ν–‰ μ¤€λΉ„ λ° μ§„ν–‰


μ 4μ¥ μ¬μ •

μ 18μ΅° (μ¬μ •)
λ³Ένμ μ¬μ •μ€ λ‹¤μμΌλ΅ μ¶©λ‹Ήν•λ‹¤.
1. νμ›μ νλΉ„
2. μ‚°ν–‰λΉ„
3. μ°¬μ΅°κΈ λ° κΈ°λ¶€κΈ
4. κΈ°νƒ€ μμ…

μ 19μ΅° (νλΉ„)
1. νμ›μ€ μ΄νμ—μ„ μ •ν• νλΉ„λ¥Ό λ‚©λ¶€ν•λ‹¤.
2. νλΉ„λ” μ—°νλΉ„μ™€ μ‚°ν–‰λΉ„λ΅ κµ¬λ¶„ν•λ‹¤.
3. νλΉ„ λ―Έλ‚© μ‹ νμ› μκ²©μ΄ μ ν•λ  μ μλ‹¤.

μ 20μ΅° (νκ³„μ—°λ„)
λ³Ένμ νκ³„μ—°λ„λ” λ§¤λ…„ 1μ›” 1μΌλ¶€ν„° 12μ›” 31μΌκΉμ§€λ΅ ν•λ‹¤.

μ 21μ΅° (μμ‚° λ° κ²°μ‚°)
1. νμ¥μ€ λ§¤ νκ³„μ—°λ„ κ°μ‹ μ „μ— λ‹¤μ μ—°λ„μ μμ‚°μ•μ„ μ‘μ„±ν•μ—¬ μ΄νμ μΉμΈμ„ λ°›λ”λ‹¤.
2. νμ¥μ€ λ§¤ νκ³„μ—°λ„ μΆ…λ£ ν›„ κ²°μ‚°μ„λ¥Ό μ‘μ„±ν•μ—¬ κ°μ‚¬λ¥Ό κ±°μ³ μ΄νμ μΉμΈμ„ λ°›λ”λ‹¤.


μ 5μ¥ μ‚°ν–‰

μ 22μ΅° (μ‚°ν–‰μ μΆ…λ¥)
λ³Ένμ μ‚°ν–‰μ€ λ‹¤μκ³Ό κ°™μ΄ κµ¬λ¶„ν•λ‹¤.
1. μ •κΈ° μ‚°ν–‰: λ§¤μ›” μ •κΈ°μ μΌλ΅ κ°μµ
2. νΉλ³„ μ‚°ν–‰: ν•„μ”μ— λ”°λΌ μμ‹ κ°μµ

μ 23μ΅° (μ‚°ν–‰ κ³„ν)
1. μ‚°ν–‰ κ³„νμ€ μ΄μμ„μ›νμ—μ„ μλ¦½ν•λ‹¤.
2. μ‚°ν–‰ κ³„νμ—λ” λ‹¤μ μ‚¬ν•­μ΄ ν¬ν•¨λμ–΄μ•Ό ν•λ‹¤.
   κ°€. μ‚°ν–‰ μΌμ‹ λ° μ¥μ†
   λ‚. μ‚°ν–‰ μ½”μ¤ λ° λ‚μ΄λ„
   λ‹¤. μ†μ” μμ‚°
   λΌ. μ•μ „ λ€μ±…
   λ§. λΉ„μƒ μ—°λ½λ§

μ 24μ΅° (μ‚°ν–‰ μ°Έκ°€)
1. νμ›μ€ μ‚°ν–‰ μ°Έκ°€ μ‹ μ²­μ„ ν†µν•΄ μ‚°ν–‰μ— μ°Έκ°€ν•  μ μλ‹¤.
2. μ‚°ν–‰λΉ„λ” μ‚¬μ „μ— λ‚©λ¶€ν•΄μ•Ό ν•λ‹¤.
3. μ •λ‹Ήν• μ‚¬μ  μ—†μ΄ μ‚°ν–‰μ— λ¶μ°Έν•κ±°λ‚ λ¬΄λ‹¨ μ·¨μ†ν• κ²½μ°, λ‹¤μ μ‚°ν–‰ μ°Έκ°€κ°€ μ ν•λ  μ μλ‹¤.

μ 25μ΅° (μ•μ „ μμΉ™)
1. λ¨λ“  νμ›μ€ μ‚°ν–‰ μ‹ μ•μ „ μμΉ™μ„ μ¤€μν•΄μ•Ό ν•λ‹¤.
2. μ‚°ν–‰ μ¤‘ μ‚¬κ³  λ°μƒ μ‹ μ¦‰μ‹ μΈμ†”μμ—κ² λ³΄κ³ ν•΄μ•Ό ν•λ‹¤.
3. κ°μΈ μ•μ „ μ¥λΉ„λ” λ³ΈμΈμ΄ μ¤€λΉ„ν•λ‹¤.


μ 6μ¥ κ²μ¤νΈ

μ 26μ΅° (κ²μ¤νΈ μ°Έκ°€)
1. λΉ„νμ›μ€ κΈ°μ΅΄ νμ›μ μ¶”μ²μΌλ΅ κ²μ¤νΈλ΅ μ‚°ν–‰μ— μ°Έκ°€ν•  μ μλ‹¤.
2. κ²μ¤νΈλ” μµλ€ 3νκΉμ§€ μ‚°ν–‰μ— μ°Έκ°€ν•  μ μλ‹¤.
3. 3ν μ°Έκ°€ ν›„μ—λ” μ •νμ›μΌλ΅ κ°€μ…ν•΄μ•Ό ν•λ‹¤.

μ 27μ΅° (κ²μ¤νΈμ μλ¬΄)
κ²μ¤νΈλ” νμ›μ— μ¤€ν•λ” μλ¬΄λ¥Ό μ§€λ©°, μ‚°ν–‰λΉ„λ¥Ό λ‚©λ¶€ν•΄μ•Ό ν•λ‹¤.


μ 7μ¥ λ³΄μΉ™

μ 28μ΅° (νμΉ™ κ°μ •)
λ³Έ νμΉ™μ€ μ΄νμ—μ„ μ¬μ  νμ› κ³Όλ°μμ μ°¬μ„±μΌλ΅ κ°μ •ν•  μ μλ‹¤.

μ 29μ΅° (ν•΄μ‚°)
λ³Ένλ¥Ό ν•΄μ‚°ν•κ³ μ ν•  λ•μ—λ” μ΄νμ—μ„ μ¬μ  νμ› 3λ¶„μ 2 μ΄μƒμ μ°¬μ„±μ„ μ–»μ–΄μ•Ό ν•λ‹¤.

μ 30μ΅° (μ”μ—¬ μ¬μ‚°)
λ³Ένκ°€ ν•΄μ‚°λ  λ•μ μ”μ—¬ μ¬μ‚°μ€ μ΄νμ κ²°μλ¥Ό κ±°μ³ μ μ‚¬ν• λ©μ μ„ κ°€μ§„ λ‹¨μ²΄μ— κΈ°μ¦ν•λ‹¤.

μ 31μ΅° (μ¤€μ© κ·μ •)
λ³Έ νμΉ™μ— λ…μ‹λμ§€ μ•μ€ μ‚¬ν•­μ€ μΌλ° κ΄€λ΅€μ— λ”°λ¥Έλ‹¤.


λ¶€μΉ™

μ 1μ΅° (μ‹ν–‰μΌ)
λ³Έ νμΉ™μ€ 2026λ…„ 1μ›” 1μΌλ¶€ν„° μ‹ν–‰ν•λ‹¤.

μ 2μ΅° (κ²½κ³Ό μ΅°μΉ)
λ³Έ νμΉ™ μ‹ν–‰ λ‹Ήμ‹μ μ„μ›μ€ λ³Έ νμΉ™μ— μν•μ—¬ μ„ μ¶λ κ²ƒμΌλ΅ λ³Έλ‹¤.
  `,
  amendments: [
    {
      version: 'μ 1μ°¨ κ°μ •',
      date: '2026-01-01',
      summary: 'μ‹μ• λΌν΄λ½ νμΉ™ μ μ •',
      changes: [
        'μ‹μ• λΌν΄λ½ κ³µμ‹ νμΉ™ μ μ •',
        'νμ› μκ²© λ° μ…ν μ μ°¨ λ…μ‹',
        'μ΅°μ§ κµ¬μ΅° λ° μ΄μ λ°©μ‹ μ •λ¦½',
        'μ‚°ν–‰ μ΄μ κ·μ • μλ¦½',
        'μ¬μ • μ΄μ μ›μΉ™ ν™•λ¦½'
      ]
    }
  ],
  createdAt: admin.firestore.FieldValue.serverTimestamp(),
  updatedAt: admin.firestore.FieldValue.serverTimestamp(),
};

// ========================================
// μ΄λ‹¬μ θ©© (1-12μ›”)
// ========================================

const monthlyPoems = [
  {
    id: 'poem-2026-01',
    month: 1,
    year: 2026,
    title: 'ι›δΈ­ζΆ…(μ„¤μ¤‘λ§¤)',
    poet: 'κΉ€μƒμ©',
    content: `λ μ†μ—μ„ ν”Όμ–΄λ‚ λ§¤ν™”μ²λΌ
μ°¨κ°€μ΄ κ²¨μΈ μ‚°κΈΈμ„ κ±·λ”λ‹¤
μ¶”μ„μ— λ–¨λ©° μ •μƒμ„ ν–¥ν•μ§€λ§
λ΄„μ„ κΈ°λ‹¤λ¦¬λ” λ§μμ€ λ”°λ»ν•λ‹¤

λ λ®μΈ μ‚°μ€ κ³ μ”ν•κ³ 
λ°μκµ­λ§μ΄ κΈΈμ„ λ§λ“ λ‹¤
ν•¨κ» κ±·λ” λ°κ±Έμ μ†λ¦¬μ—
μ°μ •μ΄ κ½ƒμ²λΌ ν”Όμ–΄λ‚λ‹¤`,
    isPinned: true,
    createdAt: admin.firestore.FieldValue.serverTimestamp(),
    updatedAt: admin.firestore.FieldValue.serverTimestamp(),
  },
  {
    id: 'poem-2026-02',
    month: 2,
    year: 2026,
    title: 'μ‚°μ€ λ†’μ€λ°',
    poet: 'μ •νΈμΉ',
    content: `μ‚°μ€ λ†’μ€λ° κµ¬λ¦„μ€ λ” λ†’μ•„
μ‚° μ„μ— κµ¬λ¦„μ΄ κ±Έλ ¤ μλ‹¤
κµ¬λ¦„ μ„λ΅ μ¬λΌκ°€κ³  μ‹¶μ–΄λ„
λ°μ΄ λ•…μ— λ¶™μ–΄ μλ‹¤

κ·Έλλ„ ν• κ±Έμ ν• κ±Έμ
μ •μƒμ„ ν–¥ν•΄ κ±·λ‹¤ λ³΄λ©΄
μ–΄λμƒ κµ¬λ¦„ μ†μ— μ„ μλ‹¤`,
    createdAt: admin.firestore.FieldValue.serverTimestamp(),
    updatedAt: admin.firestore.FieldValue.serverTimestamp(),
  },
  // 3-12μ›”μ€ μ¶”ν›„ μ¶”κ°€
];

// ========================================
// λ©”μΈ ν•¨μ
// ========================================

async function uploadClubRules() {
  console.log('π“ νμΉ™ μ—…λ΅λ“ μ‹μ‘...');
  
  try {
    await db.collection('rules').doc(clubRules.id).set(clubRules);
    console.log('β… νμΉ™ μ—…λ΅λ“ μ™„λ£');
  } catch (error) {
    console.error('β νμΉ™ μ—…λ΅λ“ μ‹¤ν¨:', error);
    throw error;
  }
}

async function uploadMonthlyPoems() {
  console.log('\nπ“ μ΄λ‹¬μ θ©© μ—…λ΅λ“ μ‹μ‘...');
  
  try {
    for (const poem of monthlyPoems) {
      await db.collection('poems').doc(poem.id).set(poem);
      console.log(`  β… ${poem.month}μ›” θ©©: ${poem.title}`);
    }
    console.log(`β… μ΄λ‹¬μ θ©© ${monthlyPoems.length}κ° μ—…λ΅λ“ μ™„λ£`);
  } catch (error) {
    console.error('β μ΄λ‹¬μ θ©© μ—…λ΅λ“ μ‹¤ν¨:', error);
    throw error;
  }
}

async function main() {
  console.log('π”¥ μ‹μ• λΌν΄λ½ μ½ν…μΈ  μ—…λ΅λ“ μ‹μ‘\n');
  console.log('='.repeat(80));
  console.log('\n');
  
  try {
    await uploadClubRules();
    await uploadMonthlyPoems();
    
    console.log('\n' + '='.repeat(80));
    console.log('\nπ‰ λ¨λ“  μ½ν…μΈ  μ—…λ΅λ“ μ™„λ£!\n');
    console.log('π“ μ—…λ΅λ“λ μ½ν…μΈ :');
    console.log('   - νμΉ™: 1κ°');
    console.log(`   - μ΄λ‹¬μ θ©©: ${monthlyPoems.length}κ°`);
    console.log('\n');
    
    process.exit(0);
  } catch (error) {
    console.error('\nβ μ—…λ΅λ“ μ¤‘ μ¤λ¥ λ°μƒ:', error);
    process.exit(1);
  }
}

// μ‹¤ν–‰
main();
